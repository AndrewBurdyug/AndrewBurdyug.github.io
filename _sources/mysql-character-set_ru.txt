
Смена кодировки в MySQL
=======================

.. post:: Sep 25, 2013
   :tags: mysql, utf-8
   :author: Andrew Burdyug
   :language: ru

Чтобы переключить кодировку на *utf-8*, создайте файлик *charset.cnf* в */etc/mysql/conf.d/*
и добавьте в него следующее:

.. sourcecode:: ini

    [client]
    default-character-set   = utf8

    [mysqld]
    collation-server        = utf8_general_ci
    init-connect            = 'SET NAMES utf8'
    character-set-server    = utf8

    [mysql]
    default-character-set   = utf8


Проверить кодировки таблиц перед переключением на utf8_general_ci можно так:

.. sourcecode:: sql

    SHOW TABLE STATUS from databasename WHERE Collation!='utf8_general_ci';

Поменять кодировку в текущей базе можно так:

.. sourcecode:: sql

    ALTER DATABASE databasename CHARACTER SET utf8 COLLATE utf8_general_ci;
    ALTER TABLE tablename CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
